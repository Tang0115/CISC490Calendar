{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tangx\\\\Downloads\\\\CISC-490-Calendar\\\\CISC-490-Calendar\\\\src\\\\components\\\\CalendarView.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from 'react';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport interactionPlugin from '@fullcalendar/interaction';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CalendarView({\n  selectedDate,\n  setSelectedDate,\n  events,\n  setEvents\n}) {\n  _s();\n  const calendarRef = useRef(null);\n  useEffect(() => {\n    const calendarApi = calendarRef.current.getApi();\n    calendarApi.gotoDate(selectedDate);\n  }, [selectedDate]);\n  const handleDateClick = info => {\n    setSelectedDate(new Date(info.dateStr));\n  };\n  const handleEventDrop = info => {\n    const updatedEvent = {\n      ...info.event.extendedProps,\n      taskId: info.event.id,\n      title: info.event.title,\n      date: info.event.start.toISOString().split('T')[0],\n      startTime: info.event.start.toTimeString().slice(0, 5),\n      endTime: info.event.end ? info.event.end.toTimeString().slice(0, 5) : info.event.start.toTimeString().slice(0, 5)\n    };\n    setEvents(prevEvents => prevEvents.map(ev => ev.taskId === updatedEvent.taskId ? updatedEvent : ev));\n  };\n  const handleEventClick = info => {\n    setSelectedDate(new Date(info.event.start));\n  };\n  const calendarEvents = events.map(event => ({\n    id: event.taskId,\n    title: event.title,\n    start: `${event.date}T${event.startTime}`,\n    end: event.endTime ? `${event.date}T${event.endTime}` : null,\n    extendedProps: event\n  }));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"calendar-view\",\n    children: /*#__PURE__*/_jsxDEV(FullCalendar, {\n      ref: calendarRef,\n      plugins: [dayGridPlugin, timeGridPlugin, interactionPlugin],\n      initialView: \"timeGridWeek\",\n      headerToolbar: {\n        left: 'prev,next today',\n        center: 'title',\n        right: 'timeGridWeek,timeGridDay'\n      },\n      events: calendarEvents,\n      editable: true,\n      selectable: true,\n      eventDrop: handleEventDrop,\n      eventClick: handleEventClick,\n      dateClick: handleDateClick,\n      allDaySlot: false,\n      snapDuration: \"00:15\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(CalendarView, \"HuswXQNKgAj2xlMza6JPwM9t0kA=\");\n_c = CalendarView;\nexport default CalendarView;\nvar _c;\n$RefreshReg$(_c, \"CalendarView\");","map":{"version":3,"names":["React","useRef","useEffect","FullCalendar","dayGridPlugin","timeGridPlugin","interactionPlugin","jsxDEV","_jsxDEV","CalendarView","selectedDate","setSelectedDate","events","setEvents","_s","calendarRef","calendarApi","current","getApi","gotoDate","handleDateClick","info","Date","dateStr","handleEventDrop","updatedEvent","event","extendedProps","taskId","id","title","date","start","toISOString","split","startTime","toTimeString","slice","endTime","end","prevEvents","map","ev","handleEventClick","calendarEvents","className","children","ref","plugins","initialView","headerToolbar","left","center","right","editable","selectable","eventDrop","eventClick","dateClick","allDaySlot","snapDuration","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/tangx/Downloads/CISC-490-Calendar/CISC-490-Calendar/src/components/CalendarView.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\r\nimport FullCalendar from '@fullcalendar/react';\r\nimport dayGridPlugin from '@fullcalendar/daygrid';\r\nimport timeGridPlugin from '@fullcalendar/timegrid';\r\nimport interactionPlugin from '@fullcalendar/interaction';\r\n\r\nfunction CalendarView({ selectedDate, setSelectedDate, events, setEvents }) {\r\n  const calendarRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const calendarApi = calendarRef.current.getApi();\r\n    calendarApi.gotoDate(selectedDate);\r\n  }, [selectedDate]);\r\n\r\n  const handleDateClick = (info) => {\r\n    setSelectedDate(new Date(info.dateStr));\r\n  };\r\n\r\n  const handleEventDrop = (info) => {\r\n    const updatedEvent = {\r\n      ...info.event.extendedProps,\r\n      taskId: info.event.id,\r\n      title: info.event.title,\r\n      date: info.event.start.toISOString().split('T')[0],\r\n      startTime: info.event.start.toTimeString().slice(0, 5),\r\n      endTime: info.event.end ? info.event.end.toTimeString().slice(0, 5) : info.event.start.toTimeString().slice(0, 5),\r\n    };\r\n    setEvents(prevEvents =>\r\n      prevEvents.map(ev => (ev.taskId === updatedEvent.taskId ? updatedEvent : ev))\r\n    );\r\n  };\r\n\r\n  const handleEventClick = (info) => {\r\n    setSelectedDate(new Date(info.event.start));\r\n  };\r\n\r\n  const calendarEvents = events.map(event => ({\r\n    id: event.taskId,\r\n    title: event.title,\r\n    start: `${event.date}T${event.startTime}`,\r\n    end: event.endTime ? `${event.date}T${event.endTime}` : null,\r\n    extendedProps: event,\r\n  }));\r\n\r\n  return (\r\n    <div className=\"calendar-view\">\r\n      <FullCalendar\r\n        ref={calendarRef}\r\n        plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}\r\n        initialView=\"timeGridWeek\"\r\n        headerToolbar={{\r\n          left: 'prev,next today',\r\n          center: 'title',\r\n          right: 'timeGridWeek,timeGridDay'\r\n        }}\r\n        events={calendarEvents}\r\n        editable={true}\r\n        selectable={true}\r\n        eventDrop={handleEventDrop}\r\n        eventClick={handleEventClick}\r\n        dateClick={handleDateClick}\r\n        allDaySlot={false}\r\n        snapDuration=\"00:15\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CalendarView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}